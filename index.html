<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>심플 만다라트 플래너</title>
    <style>
        :root {
            --border-color: #ddd;
            --main-bg: #f0f4f8;
            --sub-goal-bg: #e3f2fd;
            --core-goal-bg: #fff9c4;
        }

        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; background: #fafafa; }
        h1 { margin-top: 20px; color: #333; }

        /* 전체 3x3 대형 그리드 */
        .mandalart-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 20px;
            background: #fff;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 8px;
        }

        /* 9개의 서브 그리드 */
        .sub-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            border: 2px solid var(--border-color);
        }

        /* 각 칸(Cell) 스타일 */
        .cell {
            width: 100px;
            height: 100px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px;
        }

        textarea {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
            text-align: center;
            font-size: 13px;
            background: transparent;
            outline: none;
        }

        /* 배경색 구분 */
        .sub-grid:nth-child(5) { border-color: #ffb74d; } /* 중앙 그리드 강조 */
        .sub-grid:nth-child(5) .cell:nth-child(5) { background-color: var(--core-goal-bg); font-weight: bold; } /* 최중심 */
        
        /* 중앙 그리드의 주변 8개 칸 (세부목표) */
        .sub-grid:nth-child(5) .cell:not(:nth-child(5)) { background-color: var(--sub-goal-bg); }

        /* 외부 8개 그리드의 중심칸 */
        .outer-center { background-color: var(--sub-goal-bg); font-weight: bold; }
    </style>
</head>
<body>

    <h1>Mandalart Planner</h1>
    <p>중앙의 하늘색 칸에 세부 목표를 입력하면 주변 칸의 제목으로 자동 전달됩니다.</p>

    <div class="mandalart-container" id="mandalart">
        </div>

    <script>
        const container = document.getElementById('mandalart');

        // 9개의 서브 그리드 생성 (총 81칸)
        for (let i = 1; i <= 9; i++) {
            const subGrid = document.createElement('div');
            subGrid.className = 'sub-grid';
            subGrid.dataset.gridIndex = i;

            for (let j = 1; j <= 9; j++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                
                const textarea = document.createElement('textarea');
                textarea.placeholder = "내용 입력";
                
                // 중앙 그리드의 인덱스는 5
                // 외부 그리드의 중심칸 인덱스는 5
                if (i !== 5 && j === 5) {
                    cell.classList.add('outer-center');
                    textarea.readOnly = true; // 외부 그리드 중심은 자동입력됨
                    textarea.placeholder = "세부 목표";
                }

                // 동기화 로직 (중앙 그리드 입력 시 외부로 복사)
                if (i === 5 && j !== 5) {
                    textarea.addEventListener('input', (e) => {
                        const targetGridIndex = j; // 중앙의 j번째 칸이 외부 j번째 그리드와 매칭
                        const targetTextarea = document.querySelector(`.sub-grid[data-grid-index="${targetGridIndex}"] .cell:nth-child(5) textarea`);
                        if (targetTextarea) targetTextarea.value = e.target.value;
                    });
                }

                cell.appendChild(textarea);
                subGrid.appendChild(cell);
            }
            container.appendChild(subGrid);
        }
    </script>
</body>
</html>
